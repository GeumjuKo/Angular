{"ast":null,"code":"import { CognitoUser, CognitoUserPool, CognitoUserAttribute } from 'amazon-cognito-identity-js';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction SignUpComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"form\", 8, 9);\n    i0.ɵɵlistener(\"submit\", function SignUpComponent_div_8_Template_form_submit_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n\n      const _r2 = i0.ɵɵreference(2);\n\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.onSignup(_r2);\n    });\n    i0.ɵɵelementStart(3, \"div\", 10);\n    i0.ɵɵtext(4, \"Name \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 11);\n    i0.ɵɵelementStart(6, \"input\", 12, 13);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_8_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.fname = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 14, 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_8_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.lname = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 10);\n    i0.ɵɵtext(11, \"Gender\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16);\n    i0.ɵɵelementStart(13, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_8_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.gender = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 10);\n    i0.ɵɵtext(16, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 19);\n    i0.ɵɵelementStart(18, \"input\", 20, 21);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_8_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.email = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 10);\n    i0.ɵɵtext(21, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 22);\n    i0.ɵɵelementStart(23, \"input\", 23, 24);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_8_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.mobileNo = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 10);\n    i0.ɵɵtext(26, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 25);\n    i0.ɵɵelementStart(28, \"input\", 26, 27);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_8_Template_input_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.password = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 28);\n    i0.ɵɵelementStart(31, \"button\", 29);\n    i0.ɵɵtext(32, \" Register \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.fname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.lname);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.gender);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.mobileNo);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.password);\n  }\n}\n\nfunction SignUpComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"form\", 8, 31);\n    i0.ɵɵlistener(\"submit\", function SignUpComponent_div_9_Template_form_submit_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n\n      const _r17 = i0.ɵɵreference(2);\n\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.userVerify(_r17);\n    });\n    i0.ɵɵtext(3, \" Enter verification code from your email. \");\n    i0.ɵɵelementStart(4, \"div\", 32);\n    i0.ɵɵelementStart(5, \"input\", 33, 34);\n    i0.ɵɵlistener(\"ngModelChange\", function SignUpComponent_div_9_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.vericode = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 29);\n    i0.ɵɵtext(8, \"Register\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.vericode);\n  }\n}\n\nexport let SignUpComponent = /*#__PURE__*/(() => {\n  class SignUpComponent {\n    constructor(router) {\n      this.router = router;\n      this.isLoading = false;\n      this.submited = false;\n      this.fname = '';\n      this.lname = '';\n      this.gender = '';\n      this.email = '';\n      this.mobileNo = '';\n      this.password = '';\n      this.vericode = '';\n    }\n\n    ngOnInit() {}\n\n    onSignup(form) {\n      console.log(\"click\", form.valid); // if (form.valid) {\n\n      this.isLoading = true;\n      let poolData = {\n        UserPoolId: environment.cognitoUserPoolId,\n        ClientId: environment.cognitoAppClientId // Your client id here\n\n      };\n      let userPool = new CognitoUserPool(poolData);\n      let attributeList = [];\n      let formData = {\n        \"name\": this.fname,\n        \"family_name\": this.lname,\n        \"custom:gender\": this.gender,\n        \"email\": this.email,\n        \"phone_number\": this.mobileNo\n      };\n\n      for (let key in formData) {\n        let attrData = {\n          Name: key,\n          Value: formData[key]\n        };\n        let attribute = new CognitoUserAttribute(attrData);\n        attributeList.push(attribute);\n      }\n\n      userPool.signUp(this.email, this.password, attributeList, [], (err, result) => {\n        this.isLoading = false;\n\n        if (err) {\n          alert(err.message || JSON.stringify(err));\n          return;\n        }\n\n        this.submited = true; // this.router.navigate(['/signin'])\n      }); // }\n    }\n\n    userVerify(form) {\n      // if (form.valid) {\n      this.isLoading = true;\n      let vericode = this.vericode;\n      console.log(vericode);\n      let poolData = {\n        UserPoolId: environment.cognitoUserPoolId,\n        ClientId: environment.cognitoAppClientId // Your client id here\n\n      };\n      let userPool = new CognitoUserPool(poolData);\n      let userData = {\n        Username: this.email,\n        Pool: userPool\n      };\n      let cognitoUser = new CognitoUser(userData);\n      cognitoUser.confirmRegistration(this.vericode, true, (err, result) => {\n        this.isLoading = false;\n\n        if (err) {\n          alert(err.message || JSON.stringify(err));\n          return;\n        }\n\n        console.log('call result: ' + result);\n        if (confirm(\"회원가입을 완료했습니다.\")) this.router.navigate(['signin']);\n      }); // }\n    }\n\n  }\n\n  SignUpComponent.ɵfac = function SignUpComponent_Factory(t) {\n    return new (t || SignUpComponent)(i0.ɵɵdirectiveInject(i1.Router));\n  };\n\n  SignUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignUpComponent,\n    selectors: [[\"app-sign-up\"]],\n    decls: 10,\n    vars: 2,\n    consts: [[1, \"signup_container\"], [1, \"logo\"], [1, \"guide_msg\"], [1, \"login_link\"], [\"routerLink\", \"/signin\"], [\"class\", \"form\", 4, \"ngIf\"], [\"class\", \"verification\", 4, \"ngIf\"], [1, \"form\"], [3, \"submit\"], [\"signupForm\", \"ngForm\"], [1, \"label\"], [1, \"input_name\"], [\"id\", \"fname\", \"type\", \"text\", \"ngModel\", \"\", \"placeholder\", \"First Name\", \"name\", \"fname\", \"id\", \"fname\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"fnameInput\", \"ngModel\"], [\"id\", \"lname\", \"type\", \"text\", \"ngModel\", \"\", \"placeholder\", \"Last Name\", \"name\", \"lname\", \"id\", \"lname\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"lnameInput\", \"ngModel\"], [1, \"input_gender\"], [\"id\", \"gender\", \"type\", \"text\", \"ngModel\", \"\", \"placeholder\", \"Gender\", \"name\", \"gender\", \"id\", \"gender\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"genderInput\", \"ngModel\"], [1, \"input_email\"], [\"type\", \"email\", \"ngModel\", \"\", \"placeholder\", \"Enter Email\", \"name\", \"email\", \"id\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"emailInput\", \"ngModel\"], [1, \"input_mobileNo\"], [\"id\", \"mobileNo\", \"type\", \"tel\", \"ngModel\", \"\", \"placeholder\", \"Enter Mobile No\", \"name\", \"mobileNo\", \"id\", \"mobileNo\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"mobileNoInput\", \"ngModel\"], [1, \"input_psw\"], [\"type\", \"password\", \"name\", \"password\", \"ngModel\", \"\", \"minlength\", \"8\", \"placeholder\", \"Enter Password\", \"id\", \"psw\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"passwordInput\", \"ngModel\"], [1, \"submit\"], [\"type\", \"submit\", 1, \"registerbtn\"], [1, \"verification\"], [\"verificationForm\", \"ngForm\"], [1, \"input_vericode\"], [\"id\", \"vericode\", \"type\", \"text\", \"ngModel\", \"\", \"placeholder\", \"Enter Verification Code\", \"name\", \"vericode\", \"id\", \"vericode\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"vericodeInput\", \"ngModel\"]],\n    template: function SignUpComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"span\", 2);\n        i0.ɵɵtext(3, \" Sign up to ProjectM \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtext(5, \" Already a member? \");\n        i0.ɵɵelementStart(6, \"a\", 4);\n        i0.ɵɵtext(7, \"Login Link\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, SignUpComponent_div_8_Template, 33, 6, \"div\", 5);\n        i0.ɵɵtemplate(9, SignUpComponent_div_9_Template, 9, 1, \"div\", 6);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited == true);\n      }\n    },\n    directives: [i1.RouterLinkWithHref, i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.RequiredValidator, i3.MinLengthValidator],\n    styles: [\"@font-face{font-family:IM_Hyemin-Bold;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2106@1.1/IM_Hyemin-Bold.woff2) format(\\\"woff\\\");font-weight:400;font-style:normal}@font-face{font-family:KOTRA_GOTHIC;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10-21@1.0/KOTRA_GOTHIC.woff) format(\\\"woff\\\");font-weight:400;font-style:normal}@font-face{font-family:paybooc-Bold;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-Bold.woff) format(\\\"woff\\\");font-weight:400;font-style:normal}@font-face{font-family:paybooc-ExtraBold;src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-ExtraBold.woff) format(\\\"woff\\\");font-weight:400;font-style:normal}.signup_container[_ngcontent-%COMP%]{text-align:center;margin:150px auto;padding-top:80px;padding-bottom:80px;height:350px;width:900px;border-radius:20px;display:flex;flex-direction:row;justify-content:center;background-color:#ffffff1c}.logo[_ngcontent-%COMP%]{width:40%;justify-content:center;margin-right:20px;margin-top:150px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.guide_msg[_ngcontent-%COMP%]{font-size:25px;color:#00f7ff;font-family:paybooc-ExtraBold}.login_link[_ngcontent-%COMP%]{font-size:12px;color:#fff;font-weight:700;cursor:pointer}.form[_ngcontent-%COMP%]{margin-top:-35px;padding-top:30px;width:50%;height:400px;font-family:paybooc-Bold;font-weight:700;border:1px solid rgb(0,247,255);border-radius:30px}.label[_ngcontent-%COMP%]{font-size:13.5px;text-align:left;margin-left:110px;color:#00f7ff}.input_name[_ngcontent-%COMP%], .input_gender[_ngcontent-%COMP%], .input_email[_ngcontent-%COMP%], .input_mobileNo[_ngcontent-%COMP%], .input_psw[_ngcontent-%COMP%]{margin-bottom:10px}#fname[_ngcontent-%COMP%], #lname[_ngcontent-%COMP%]{border-style:hidden;width:100px;margin:8px;padding:6px;border-radius:5px;background-color:#fff}#gender[_ngcontent-%COMP%], #email[_ngcontent-%COMP%], #mobileNo[_ngcontent-%COMP%], #mobileNo[_ngcontent-%COMP%], #psw[_ngcontent-%COMP%], #vericode[_ngcontent-%COMP%]{width:216px;border-radius:5px;background-color:#fff;border-style:hidden;padding:6px;margin:5px}.verification[_ngcontent-%COMP%]{margin:auto;font-family:paybooc-Bold;color:#00f7ff}button[_ngcontent-%COMP%]{border-radius:100px;border-style:hidden;background-color:#00f7ff;padding:5px;width:250px;color:#fff;font-style:bold;cursor:pointer}a[_ngcontent-%COMP%]{color:#ffffe0}a[_ngcontent-%COMP%]:visited{color:#d2ebff}\"]\n  });\n  return SignUpComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}